<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <title> Create a Custom Slider With RubyMotion </title> <meta name="description" content="RubyMotion allows you to write native iOS applications using Ruby. Here I'll try to explain how to customize the UISlider element's look."> <meta name="author" content="Marc G Gauthier"> <meta content='user-scalable=no, width=device-width, initial-scale=1.0' name='viewport'> <meta name="google-site-verification" content="x2EpQdOMz-k9fP8hak9I3COaXhnQ4jNLp2GU4GYQ8jM" /> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="@marcgg"> <meta name="twitter:creator" content="@marcgg"> <meta name="twitter:title" content="Create a Custom Slider With RubyMotion"> <meta name="twitter:description" content="RubyMotion allows you to write native iOS applications using Ruby. Here I'll try to explain how to customize the UISlider element's look."> <meta name="twitter:image" content="https://marcgg.com/assets/previews/2012-10-22-custom-slider-ios-rubymotion.jpg" /> <meta name="image" property="og:image" content="https://marcgg.com/assets/previews/2012-10-22-custom-slider-ios-rubymotion.jpg" /> <link href='//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic|Open+Sans:300italic,700italic,400,700,300' rel='stylesheet' type='text/css'> <link href="/atom.xml" rel="alternate" type="application/atom+xml" title="Marcgg#Blog"> <link rel="shortcut icon" href="/assets/favicon.png"> <style type="text/css"> /* http://meyerweb.com/eric/tools/css/reset/ v2.0 | 20110126 License: none (public domain) */ html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video { margin: 0; padding: 0; border: 0; font-size: 100%; font: inherit; vertical-align: baseline; } /* HTML5 display-role reset for older browsers */ article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section { display: block; } body { line-height: 1; } ol, ul { list-style: none; } blockquote, q { quotes: none; } blockquote:before, blockquote:after, q:before, q:after { content: ''; content: none; } table { border-collapse: collapse; border-spacing: 0; } .clearfix:after { content: "."; display: block; clear: both; visibility: hidden; line-height: 0; height: 0; } .clearfix { display: inline-block; } html[xmlns] .clearfix { display: block; } * html .clearfix { height: 1%; } @font-face { font-family: 'anonymousregular'; src: url('/assets/fonts/Anonymous-webfont.eot'); src: url('/assets/fonts/Anonymous-webfont.eot?#iefix') format('embedded-opentype'), url('/assets/fonts/Anonymous-webfont.woff') format('woff'), url('/assets/fonts/Anonymous-webfont.ttf') format('truetype'), url('/assets/fonts/Anonymous-webfont.svg#anonymousregular') format('svg'); font-weight: normal; font-style: normal; } body{ font-size: 15px; font-family: 'Droid Serif', serif; color: #353535; line-height: 25px; } #gradient{ height: 5px; background: rgba(237,82,82,0.64); background: -moz-linear-gradient(left, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); background: -webkit-gradient(left top, right top, color-stop(0%, rgba(237,82,82,0.64)), color-stop(20%, rgba(250,21,0,0.65)), color-stop(52%, rgba(237,82,82,0.66)), color-stop(80%, rgba(255,21,0,0.66)), color-stop(100%, rgba(237,82,82,0.67))); background: -webkit-linear-gradient(left, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); background: -o-linear-gradient(left, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); background: -ms-linear-gradient(left, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); background: linear-gradient(to right, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ed5252', endColorstr='#ed5252', GradientType=1 ); } /* STRUCTURE */ #container{ background-color: #fafafa; } #content{ width: 760px; margin: auto; margin-top: 40px; padding-bottom: 60px; padding-top: 40px; } /* FOOTER */ footer{ padding: 40px 0px; text-align: center; border-top: 1px solid #e6e6e6; font-size: 0.8em; color: #9a9a9a; background-color: #fafafa; } footer a{ color: #9a9a9a; } /* HEADER */ header{ width: 760px; margin: auto; height: 50px; border-bottom: 1px solid #f1f1f1; position: relative; } #more-nav{ font-size: 0.75em; display: inline-block; position: absolute; top: 0px; font-family: "anonymousregular"; padding-top: 5px; right: 0px; } #more-nav a{ padding: 0px 2px; text-decoration: none; color: #353535; } #more-nav a:hover{ transition: 0s; background-image: linear-gradient(to bottom, #fff 30%, rgba(200, 200, 200, 0.4) 50%); background-repeat: repeat-x; background-size: 2px 2px; background-position: 0px 100%; } #more-nav .selected{ color: #ed5252; font-weight: bold; } #logo{ font-size: 1.2em; font-family: "anonymousregular"; margin-top: 20px; } #logo *{ text-decoration: none; } #logo1{ color: #999; } #logo2{ font-size: 0.8em; color: #ed5252; } #logo3{ color: #353535; } #logo a:hover{ color: #ed5252; transition-duration: 1s; } /* TEXT STRUCTURE */ h1, h2, h3, h4, h5{ font-family: 'Open Sans', sans-serif; color: #1c1c1c; } a:hover{ color: #ed5252; transition-duration:0.2s; } p a, ul a, .review a{ color: #763232; text-decoration: none; background-image: linear-gradient(to bottom, #fff 30%, rgba(200, 200, 200, 0.4) 50%); background-repeat: repeat-x; background-size: 2px 2px; background-position: 0px 100%; } .homepage a{ color: #353535; } p{ text-align: justify; margin-bottom: 20px; } .excerpt p{ margin-bottom: 0px; } .footnote, .sidenote{ margin: 40px 0px; color: #858585; text-align: right; font-size: 0.9em; font-style: italic; } .image_notes{ text-align: center; color: #858585; font-size: 0.9em; margin: -5px 0px 15px 0px; } h1{ font-size: 2.45em; text-align: center; margin: 70px 0px 20px 0px; line-height : 1.5em; } h1 em{ color: #888; font-weight: normal; font-size: 0.8em; } h2{ font-size: 1.75em; margin: 50px 0px 50px 0px; line-height: 1.75em; } h2::before{ content: "#"; color: #ed5252; font-family: "anonymousregular"; display: inline-block; float: left; padding: 3px 10px 0px 0px; font-size: 0.7em; } h3{ font-size: 1.35em; margin-bottom: 20px; } h4{ font-size: 1.2em; margin-bottom: 20px; font-style: italic; } h5{ font-size: 1.3em; margin-bottom: 20px; } h5 *{ color: #353535; } em{ font-style: italic; } strong{ font-weight: bold; } blockquote{ border-left: 3px solid #ddd; color: #888; margin: 0px 0px 20px 40px; font-style: italic; } blockquote p{ margin: 5px 20px !important; } ul{ padding-left: 40px; line-height: 25px; list-style: square; margin-bottom: 20px; } li{ display: list-item; } ol{ padding-left: 40px; line-height: 25px; margin-bottom: 20px; list-style-type: decimal; } /* TAGS */ .home-tag { font-size: 10px; display: inline-block; border: 1px solid #dedede; padding: 2px 2px 1px 2px; border-radius: 2px; line-height: 10px; margin-left: 1px; } .tag-date{ color: #aaa; } .tag-management { border-color: #929aff; color: #929aff; } .tag-programming { border-color: #ff9292; color: #ff9292; } .tag-coaching { border-color: #4ec698; color: #4ec698; } .tag-projectmanagement { border-color: #929aff; color: #929aff; } /* BLOG INDEX */ #all-posts{ margin: 0px auto 10px auto; width: 760px; } .single-post{ border-top: 1px solid #f1f1f1; padding: 40px 0px; float: clear; } .single-post:first-child{ border-top: none !important; } .single-post .date{ color: #cdcdcd; margin-top: 10px; float: right; } .single-post .author{ color: #cdcdcd; float: right; font-size: 0.7em; } .single-post .title{ font-family: 'Open Sans', sans-serif; font-size: 1.6em; margin-bottom: 20px; line-height: 1.6em; position: relative; } .single-post .title a{ color: #353535; text-decoration: none; } .single-post .title a::before{ content: "→"; opacity: 0; font-family: "anonymousregular"; font-size: 0.7em; position: absolute; left: -30px; transition: all .4s ease-in-out; } .single-post .title a:hover::before{ opacity: 1; transition: all .4s ease-in-out; color: #ed5252; } .single-post .title em{ display: none; } .data_table{ border: 1px solid #efefef; font-family: "anonymousregular"; font-size: 12px; margin: auto auto 20px auto; } .data_table tr{ border: 1px solid #efefef; } .data_table th{ background-color: #efefef; } .data_table th, .data_table td{ padding: 2px 5px; } .post table { margin: 0px auto 20px auto; border: 1px solid #dedede; } .post td { padding: 5px 10px; } /* BOOKS */ .book-cover-entry{ width: 120px; margin-right: 20px; float: left; font-size: 12px; text-decoration: none !important; } .buy-book{ text-decoration: underline; } .book-cover-entry img{ width: 120px; } .book-cover-entry { background-image: none; } .book-rating .icon { display: inline-block; padding-right: 5px; } .book-rating .top .icon{ color: #1CED00; } .book-rating .good .icon{ color: #82ED00; } .book-rating .medium .icon{ color: #EDD100; } .book-rating .low .icon{ color: #EDAE00; } .book-rating .poor .icon{ color: #ED3B00; } #buy-title{ padding: 0px 0px 25px 0px; } #buy-title span{ font-size: 0.8em !important; color: #cdcdcd; } #buy-popin{ padding: 30px 15px; } .store{ display: block; padding: 15px 5px; text-decoration: none; } .store:hover{ color: #ed5252; } #upcoming-books{ padding-top: 20px; } #upcoming-books img{ height: 90px; margin-right: 10px; border: 1px solid #fff; } #upcoming-books a{ text-decoration: none; } #upcoming-books img:hover{ border: 1px solid #ed5252; } /* BLOG SHOW */ .post{ } p code, li code{ background-color: #efefef; font-family: "Lucida Console", "Courier New", Courier, monospace; padding: 1px 2px; font-size: 13px; } .post img{ border: 1px solid #e6e6e6; padding: 5px; margin: 0px 0px 20px 20px; } .published span{ border-top: 1px solid #e6e6e6; display: inline-block; color: #858585; padding-top: 5px; font-family: 'Open Sans', sans-serif; font-size: 0.9em; padding: 5px 20px 0px 20px; } .published{ text-align: center; margin-bottom: 65px; } #more{ border-top: 1px solid #e6e6e6; margin-top: 40px; padding: 40px 0px; } #more-articles{ margin-bottom: 40px; } .image-wrapper em{ display: block; font-size: 0.8em; margin: -20px 0px 20px 0px; color: #aaa; } .image-wrapper em a{ color: #aaa; } .twitter-tweet{ margin: auto; max-width: 420px !important; } #intro_blurb{ border: 1px dashed #dedede; padding: 20px; margin: 20px 0px; opacity: 0.7; } #intro_blurb a{ color: #763232; } /* Music */ .js_play_sound, .js_stop_sound{ display: inline-block; padding: 4px 10px 2px 10px; border: 1px solid #efefef; background-color: #efefef; margin-right: 10px; text-decoration: none; border-radius: 3px; font-family: 'anonymousregular'; font-size: 12px; } .js_play_sound:hover, .js_stop_sound:hover{ background-color: #dedede; } /* Comments */ #comments{ padding-top: 20px; } #show-disqus-arrow{ color: #ed5252; } /* CLEARFIX */ .cf:before, .cf:after { content: " "; /* 1 */ display: table; /* 2 */ } .cf:after { clear: both; } /************************ MOBILE LAYOUT *********************/ @media all and (max-width: 800px) { .home-tag { display: none; } .author{ float: none !important; display: inline; } header{ width: 92%; padding: 4%; height: 75px; position: relative; text-align: center; background-color: #fafafa; } #more-nav{ left: 0px; top: 50px; } #logo{ margin-top: 10px; } #content, #all-posts{ width: 92%; padding: 4%; } .image-wrapper{ width: 100%; } .image-wrapper img, .post div img, .post p img{ max-width: 100% !important; padding: 15px 0px !important; margin: 20px 0px 20px 0px !important; border-right: 0px; border-left: 0px; } .single-post .title{ font-size: 1.4em; } .date{ display: none; } h1{ font-size: 1.7em; width: 94%; padding: 3%; } h2{ font-size: 1.50em; margin: 30px 0px 30px 0px; line-height: 1.75em; } h3{ font-size: 1.30em; } blockquote{ margin: 0px 0px 20px 0px !important; } pre{ margin-left: 0px !important; margin-right: 0px !important; width: 90%; overflow-x: scroll; } code{ width: 100%; font-size: 13px !important; } footer div{ display: inline; } /* Hire me responsive */ #hire ul{ padding-left: 15px; } #talking-img{ width: 100%; } #talking-img img{ width: 100% !important; } #reviews{ border-top: 1px dashed #e6e6e6; padding: 15px 0px 15px 0px; } #references_logo{ padding: 0px 0px 15px 0px; } .review{ width: 100%; margin: 0px 0px 15px 0px; padding: 0px; border-bottom: 1px dashed #e6e6e6; } #references_logo img, #references_logo .minor{ width: 22%; float: left; margin: 15px 2% 15px 0px; } .data_table th, .data_table td{ font-size: 8px; padding: 0px; border: 1px solid #efefef; } } /* CONVERSATION */ #post-conversation blockquote{ color: rgb(84, 84, 84); font-style: normal; margin: 20px 40px; } #post-conversation blockquote p{ margin: 10px 20px !important; } #post-conversation blockquote .dpm{ color: #3B9E2E !important; font-family: 'Open Sans', sans-serif; font-size: 13px; } #post-conversation blockquote .ddev{ color: #AD34CF !important; font-family: 'Open Sans', sans-serif; font-size: 13px; } #post-conversation blockquote .dcto{ color: #9E2E2E !important; font-family: 'Open Sans', sans-serif; font-size: 13px; } /* STATUS */ .status { background-color: #fff; padding: 40px; border: 1px solid #dba9a9; border-radius: 5px; margin: 40px 0px; } .status_text_content { font-size: 18px; line-height: 24px; } .status_text_content p { text-align: start !important; } .status_date { } .status_date a { color: #858585; text-decoration: none; } .status_images { margin: 20px auto; text-align: center; } .status_images img { max-width: 85%; max-height: 500px; } .side_note { color: #aaa; margin-bottom: 42px; text-align: center; } .side_note a{ color: #aaa; } </style> </head> <body> <div id="gradient"></div> <header> <div id="logo"> <a id='logo1' href="/">marcgg</a> <span id='logo2'>#</span> <a id='logo3' href="/blog/"> blog </a> </div> <div id="more-nav"> &rarr; <a href="/blog/" class="selected">blog</a> &rarr; <a href="/status/" class="">status</a> &rarr; <a href="/books/" class="">books</a> &rarr; <a href="/hire/" class="">hire me</a> </div> </header> <h1> <span> Create a Custom Slider With RubyMotion </span> </h1> <div class="published"> <span>22 October 2012</span> </div> <div id="container"> <div id="content"> <div class="post" id="post-"> <p>I always liked the idea of developing mobile applications, but also found the Objective C + XCode experience not very enjoyable. I gave alternatives like <a href="http://www.appcelerator.com/platform/titanium-sdk/">Titanium</a> a try, but wasn’t fully convinced. Lately I’ve been getting into <a href="http://www.rubymotion.com/">RubyMotion</a> and so far I’m really impressed by the general feel of it.</p> <p>Alas it’s not perfect. My main grief right now about the project is the terrible lack of documentation. The community is also still small and while you can still find <a href="https://twitter.com/vacawama">helpful</a> <a href="https://twitter.com/julienXX">people</a>, you often end up alone with your code. That’s why I figured I would contribute my share of blog posts on the subject! Hopefully it’ll help out some people.</p> <p>Keep in mind that while I’m well versed in Ruby, I’m quite new to RubyMotion and might make some mistakes… so please comment if I do and I’ll fix the article. RubyMotion is also evolving, therefore while this article works perfectly today, it might not be the case in a few months.</p> <p>With all that in mind, let’s get started shall we?</p> <h2 id="prerequisites">Prerequisites</h2> <p>I won’t get into the details on how to set up a project and will assume you have basic knowledge of how this works. If you never created something with RubyMotion, please take a look at <a href="http://rubymotion-tutorial.com/1-hello-motion/">this tutorial</a> before reading the rest of this article.</p> <p>RubyMotion uses <a href="http://www.ruby-lang.org/">Ruby</a>. If you are not familiar with it, there are tons of tutorials and books on how to code with this language. I recommend <a href="http://ruby.learncodethehardway.org/">Learn Ruby The Hard Way</a> by <a href="http://zedshaw.com/">Zed A. Shaw</a>.</p> <h2 id="our-objective">Our Objective</h2> <p>I’ll try to explain how to customize a <a href="http://developer.apple.com/library/ios/#documentation/uikit/reference/UISlider_Class/Reference/Reference.html">UISlider</a> to get the look and feel matching the design of your application. Here’s what’s the demo code will give you:</p> <iframe src="http://www.screenr.com/embed/v0y8" width="100%" height="396" frameborder="0">Loading</iframe> <h2 id="setting-up-the-appdelegate">Setting up the AppDelegate</h2> <p>This is pretty basic, we just set up a <a href="http://rubymotion-tutorial.com/3-controllers/">controller</a> and assign it to be the root.</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">AppDelegate</span>
  <span class="k">def</span> <span class="nf">application</span><span class="p">(</span><span class="n">application</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span><span class="ss">:launchOptions</span><span class="p">)</span>
	<span class="vi">@window</span> <span class="o">=</span> <span class="no">UIWindow</span><span class="p">.</span><span class="nf">alloc</span><span class="p">.</span><span class="nf">initWithFrame</span><span class="p">(</span><span class="no">UIScreen</span><span class="p">.</span><span class="nf">mainScreen</span><span class="p">.</span><span class="nf">bounds</span><span class="p">)</span>

	<span class="n">main_controller</span> <span class="o">=</span> <span class="no">MainController</span><span class="p">.</span><span class="nf">alloc</span><span class="p">.</span><span class="nf">init</span>
	<span class="vi">@window</span><span class="p">.</span><span class="nf">rootViewController</span> <span class="o">=</span> <span class="n">main_controller</span>

	<span class="vi">@window</span><span class="p">.</span><span class="nf">rootViewController</span><span class="p">.</span><span class="nf">wantsFullScreenLayout</span> <span class="o">=</span> <span class="kp">true</span>
	<span class="vi">@window</span><span class="p">.</span><span class="nf">makeKeyAndVisible</span>
	<span class="kp">true</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure> <h2 id="displaying-a-uislider">Displaying a UISlider</h2> <p>Now we need to create the MainController. I like to put it in app/controllers, with the usual basic structure.</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">MainController</span> <span class="p">\</span><span class="o">&lt;</span> <span class="no">UIViewController</span>
  <span class="k">def</span> <span class="nf">loadView</span>
	<span class="nb">self</span><span class="p">.</span><span class="nf">view</span> <span class="o">=</span> <span class="no">UIView</span><span class="p">.</span><span class="nf">new</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">initWithNibName</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="ss">bundle: </span><span class="n">bundle</span><span class="p">)</span>
	<span class="k">super</span>
	<span class="nb">self</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">viewDidLoad</span>
	<span class="k">super</span>
	<span class="c1"># Everything is now going to go there</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure> <p>Now you can run the application with rake and it’ll display a black screen. This means we’re all set up and it’s time to actually start coding. Everything we’re going to write from now on will be after the super the viewDidLoad method.</p> <p>First, the slider:</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">slider</span> <span class="o">=</span> <span class="no">UISlider</span><span class="p">.</span><span class="nf">alloc</span><span class="p">.</span><span class="nf">initWithFrame</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span> <span class="p">[</span><span class="mi">320</span><span class="p">,</span> <span class="mi">40</span><span class="p">]])</span></code></pre></figure> <p>This will create a slider taking the whole width of the screen and position it more or less in the center. Once it’s created, we need add it to the view so it’ll display correctly.</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">view</span><span class="p">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">slider</span><span class="p">)</span></code></pre></figure> <p>Run rake again, and you should see something like this:</p> <div style="text-align: center"><img src="/assets/misc/slider1.png" alt="Custom Sliders Demo" /></div> <p>If you want, you can set the maximum and default values:</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">slider</span><span class="p">.</span><span class="nf">maximumValue</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">slider</span><span class="p">.</span><span class="nf">value</span> <span class="o">=</span> <span class="n">slider</span><span class="p">.</span><span class="nf">maximumValue</span><span class="o">/</span><span class="mi">2</span></code></pre></figure> <h2 id="setting-track-images">Setting Track Images</h2> <p>A UISlider is composed of different elements. The sliding thingy is called the track and the other round thingy you grab to drag is the thumb. On the left of the thumb we have the minimum track, on the right the maximum track. The <a href="http://developer.apple.com/library/ios/#documentation/uikit/reference/UISlider_Class/Reference/Reference.html">official documentation</a> explains that with a better display of vocabulary than I do, but you get the idea.</p> <p>Let’s change the track image to display and image.</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">full</span><span class="p">\</span><span class="n">_image</span> <span class="o">=</span> <span class="no">UIImage</span><span class="p">.</span><span class="nf">imageNamed</span><span class="p">(</span><span class="s2">"full"</span><span class="p">)</span>
<span class="n">empty</span><span class="p">\</span><span class="n">_image</span> <span class="o">=</span> <span class="no">UIImage</span><span class="p">.</span><span class="nf">imageNamed</span><span class="p">(</span><span class="s2">"empty"</span><span class="p">)</span>
<span class="n">slider</span><span class="p">.</span><span class="nf">setMinimumTrackImage</span> <span class="n">full</span><span class="p">\</span><span class="n">_image</span><span class="p">,</span> <span class="ss">forState: </span><span class="no">UIControlStateNormal</span>
<span class="n">slider</span><span class="p">.</span><span class="nf">setMaximumTrackImage</span> <span class="n">empty</span><span class="p">\</span><span class="n">_image</span><span class="p">,</span> <span class="ss">forState: </span><span class="no">UIControlStateNormal</span></code></pre></figure> <p>You can notice that I use two images “full” and “empty”. To get them to load correctly, put them in the resources folder of your rubymotion project. If they are PNGs you don’t need to specify the format.</p> <p>Right now the minimum track image is stretching to fit its space. It might be what you want, but that’s not my case so let’s add the following code before giving the image to the slider.</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># You need an image that is the exact size of the slider</span>
<span class="c1"># or else it might not look good</span>
<span class="n">full</span><span class="p">\</span><span class="n">_image</span> <span class="o">=</span> <span class="n">full</span><span class="p">\</span><span class="n">_image</span><span class="p">.</span><span class="nf">resizableImageWithCapInsets</span><span class="p">(</span>
  <span class="no">UIEdgeInsetsZero</span><span class="p">,</span> <span class="ss">resizingMode: </span><span class="no">UIImageResizingModeTile</span><span class="p">)</span></code></pre></figure> <p>At this point we have this:</p> <div style="text-align: center"><img src="/assets/misc/slider2.png" alt="Custom Sliders Demo" /></div> <p>This is pretty good, but the thumb in the middle doesn’t look like it belongs. Let’s fix that.</p> <h2 id="customizing-the-thumb">Customizing The Thumb</h2> <p>You can pass an image to set the thumb to whatever you want using the same logic as what we did with the tracks. Personnally I prefer removing the thumb entirely, so here’s how to do that:</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">slider</span><span class="p">.</span><span class="nf">setThumbImage</span> <span class="no">UIImage</span><span class="p">.</span><span class="nf">alloc</span><span class="p">,</span> <span class="ss">forState: </span><span class="no">UIControlStateNormal</span></code></pre></figure> <p>This gives you:</p> <div style="text-align: center"><img src="/assets/misc/rubymotion_sliders.png" alt="Custom Sliders Demo" /></div> <p>Of course you could have done something like:</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">whatever</span> <span class="o">=</span> <span class="no">UIImage</span><span class="p">.</span><span class="nf">imageNamed</span><span class="p">(</span><span class="s2">"whatever"</span><span class="p">)</span>
<span class="n">slider</span><span class="p">.</span><span class="nf">setThumbImage</span> <span class="n">whatever</span><span class="p">,</span> <span class="ss">forState: </span><span class="no">UIControlStateNormal</span></code></pre></figure> <h2 id="making-the-slider-easier-to-slide">Making The Slider Easier to Slide</h2> <p>Right now it’s looking how we want it, but the problem the thumb is hidden, but you still have to click exactly where it used to be in order to change the slider’s value. Since the UISlider is a taller than the default one, you have have to click right in the middle of your new slider in order to grab it.</p> <p>That’s not good UX. I order to avoid this we can enlarge the size of the area that is selectable:</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">slider</span><span class="p">.</span><span class="nf">trackRectForBounds</span><span class="p">(</span>
  <span class="no">CGRect</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">CGPoint</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span> <span class="no">CGSize</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)))</span></code></pre></figure> <p>Depending on the size of your images and the general feeling you want to get, play around with this area you’re defining.</p> <h2 id="thats-it">That’s It!</h2> <p>Obviously these are not the only customizations you can make to a UISlider, but I think it’s a good start. If people are interested I might make another one on events or visual tricks you can use to make a slider look cooler.</p> <p>If you find this avalanche of code snippets not very usuable, you can look at the whole project on <a href="https://github.com/marcgg/rubymotion-custom-slider">github</a>. It is compiling and working as I write this article, but keep in mind that RubyMotion is a fast moving project and it might not be the case in a few months.</p> <div id="more"> <div id="more-articles"> <p>Since you scrolled this far, you might be interested in some other things I wrote:</p> <ul> <li><a href="/blog/2022/11/30/i18n-localisation-xcode-google-sheet/">Simple Localisation Process for XCode with Google Sheets</a></li> <li><a href="/blog/2020/05/06/circular-progressbar-clock-swiftui/">Circular Progress Bar & Timer with SwiftUI</a></li> <li><a href="/blog/2014/04/09/phonegap-steroids-hybrid-native-app-tips/">Tips & Tricks Learned Releasing an Hybrid App Using&nbsp;Steroids.js</a></li> <li><a href="/blog/2013/08/29/appgyver-steroids-iphone-hybrid-javascript/">My First Impressions of AppGyver's Steroids.js</a></li> <li><a href="/blog/2012/11/12/webviews-javascript-ios-rubymotion/">Web Views &amp; RubyMotion</a></li> <li><a href="/books/">Startup & Tech Book Reviews</a> </ul> </div> <div class="container comments" id="comments"> Loading comments... </div> <div id="comment_form_wrapper" class="container"> <form id="comment_form"> <textarea name="content" required id="comment_content" placeholder="Leave a comment"/></textarea /> <div id="comment_additional" class="row" style="display: none;"> <div class="col-sm-4"> <input type="text" id="comment_name" required placeholder="Your name*" /> </div> <div class="col-sm-4"> <input type="text" id="comment_website" placeholder="Your site" /> </div> <div class="col-sm-4"> <input type="email" id="comment_email" required placeholder="Your email* (won't be displayed)" /> </div> </div> <br /> <input type="submit" id="submit_comment" value="Send"/> <div id="submit_loading" style="display: none;">...</div> </form> </div> </div> </div> </div> </div> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <script src="/assets/js/comments.js"></script> <link rel="preload" href="/assets/css/code.css" as="style" onload="this.rel='stylesheet'"> <link href="/assets/css/comments.css?body=1" rel="stylesheet" type="text/css" media="all"> <script> /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */ !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); /*! loadCSS rel=preload polyfill. [c]2017 Filament Group, Inc. MIT License */ !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); </script> <footer> <div>Website powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a>, hosted on <a href="https://github.com/marcgg/marcgg.github.com">Github</a>. <br> All of the <a href="/blog">blog's articles</a>, <a href="/status">status</a> and site content in general is under Copyright &copy;. <br> If you want to use this content, please contact me.</div> </footer> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-31071519-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> </body> </html>

