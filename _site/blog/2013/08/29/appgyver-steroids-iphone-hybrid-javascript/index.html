<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <title> My First Impressions of AppGyver's Steroids.js </title> <meta name="description" content="SteroidsJS promises a way to use Javascript to build PhoneGap-based applications with a native feel on both iPhone and Android. It seemed great so I decided to try it out."> <meta name="author" content="Marc G Gauthier"> <meta content='user-scalable=no, width=device-width, initial-scale=1.0' name='viewport'> <meta name="google-site-verification" content="x2EpQdOMz-k9fP8hak9I3COaXhnQ4jNLp2GU4GYQ8jM" /> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="@marcgg"> <meta name="twitter:creator" content="@marcgg"> <meta name="twitter:title" content="My First Impressions of AppGyver's Steroids.js"> <meta name="twitter:description" content="SteroidsJS promises a way to use Javascript to build PhoneGap-based applications with a native feel on both iPhone and Android. It seemed great so I decided to try it out."> <meta name="twitter:image" content="https://marcgg.com/assets/previews/2013-08-29-appgyver-steroids-iphone-hybrid-javascript.jpg" /> <meta name="image" property="og:image" content="https://marcgg.com/assets/previews/2013-08-29-appgyver-steroids-iphone-hybrid-javascript.jpg" /> <link href='//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic|Open+Sans:300italic,700italic,400,700,300' rel='stylesheet' type='text/css'> <link href="/atom.xml" rel="alternate" type="application/atom+xml" title="Marcgg#Blog"> <link rel="shortcut icon" href="/assets/favicon.png"> <style type="text/css"> /* http://meyerweb.com/eric/tools/css/reset/ v2.0 | 20110126 License: none (public domain) */ html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video { margin: 0; padding: 0; border: 0; font-size: 100%; font: inherit; vertical-align: baseline; } /* HTML5 display-role reset for older browsers */ article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section { display: block; } body { line-height: 1; } ol, ul { list-style: none; } blockquote, q { quotes: none; } blockquote:before, blockquote:after, q:before, q:after { content: ''; content: none; } table { border-collapse: collapse; border-spacing: 0; } .clearfix:after { content: "."; display: block; clear: both; visibility: hidden; line-height: 0; height: 0; } .clearfix { display: inline-block; } html[xmlns] .clearfix { display: block; } * html .clearfix { height: 1%; } @font-face { font-family: 'anonymousregular'; src: url('/assets/fonts/Anonymous-webfont.eot'); src: url('/assets/fonts/Anonymous-webfont.eot?#iefix') format('embedded-opentype'), url('/assets/fonts/Anonymous-webfont.woff') format('woff'), url('/assets/fonts/Anonymous-webfont.ttf') format('truetype'), url('/assets/fonts/Anonymous-webfont.svg#anonymousregular') format('svg'); font-weight: normal; font-style: normal; } body{ font-size: 15px; font-family: 'Droid Serif', serif; color: #353535; line-height: 25px; } #gradient{ height: 5px; background: rgba(237,82,82,0.64); background: -moz-linear-gradient(left, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); background: -webkit-gradient(left top, right top, color-stop(0%, rgba(237,82,82,0.64)), color-stop(20%, rgba(250,21,0,0.65)), color-stop(52%, rgba(237,82,82,0.66)), color-stop(80%, rgba(255,21,0,0.66)), color-stop(100%, rgba(237,82,82,0.67))); background: -webkit-linear-gradient(left, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); background: -o-linear-gradient(left, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); background: -ms-linear-gradient(left, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); background: linear-gradient(to right, rgba(237,82,82,0.64) 0%, rgba(250,21,0,0.65) 20%, rgba(237,82,82,0.66) 52%, rgba(255,21,0,0.66) 80%, rgba(237,82,82,0.67) 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ed5252', endColorstr='#ed5252', GradientType=1 ); } /* STRUCTURE */ #container{ background-color: #fafafa; } #content{ width: 760px; margin: auto; margin-top: 40px; padding-bottom: 60px; padding-top: 40px; } /* FOOTER */ footer{ padding: 40px 0px; text-align: center; border-top: 1px solid #e6e6e6; font-size: 0.8em; color: #9a9a9a; background-color: #fafafa; } footer a{ color: #9a9a9a; } /* HEADER */ header{ width: 760px; margin: auto; height: 50px; border-bottom: 1px solid #f1f1f1; position: relative; } #more-nav{ font-size: 0.75em; display: inline-block; position: absolute; top: 0px; font-family: "anonymousregular"; padding-top: 5px; right: 0px; } #more-nav a{ padding: 0px 2px; text-decoration: none; color: #353535; } #more-nav a:hover{ transition: 0s; background-image: linear-gradient(to bottom, #fff 30%, rgba(200, 200, 200, 0.4) 50%); background-repeat: repeat-x; background-size: 2px 2px; background-position: 0px 100%; } #more-nav .selected{ color: #ed5252; font-weight: bold; } #logo{ font-size: 1.2em; font-family: "anonymousregular"; margin-top: 20px; } #logo *{ text-decoration: none; } #logo1{ color: #999; } #logo2{ font-size: 0.8em; color: #ed5252; } #logo3{ color: #353535; } #logo a:hover{ color: #ed5252; transition-duration: 1s; } /* TEXT STRUCTURE */ h1, h2, h3, h4, h5{ font-family: 'Open Sans', sans-serif; color: #1c1c1c; } a:hover{ color: #ed5252; transition-duration:0.2s; } p a, ul a, .review a{ color: #763232; text-decoration: none; background-image: linear-gradient(to bottom, #fff 30%, rgba(200, 200, 200, 0.4) 50%); background-repeat: repeat-x; background-size: 2px 2px; background-position: 0px 100%; } .homepage a{ color: #353535; } p{ text-align: justify; margin-bottom: 20px; } .excerpt p{ margin-bottom: 0px; } .footnote, .sidenote{ margin: 40px 0px; color: #858585; text-align: right; font-size: 0.9em; font-style: italic; } .image_notes{ text-align: center; color: #858585; font-size: 0.9em; margin: -5px 0px 15px 0px; } h1{ font-size: 2.45em; text-align: center; margin: 70px 0px 20px 0px; line-height : 1.5em; } h1 em{ color: #888; font-weight: normal; font-size: 0.8em; } h2{ font-size: 1.75em; margin: 50px 0px 50px 0px; line-height: 1.75em; } h2::before{ content: "#"; color: #ed5252; font-family: "anonymousregular"; display: inline-block; float: left; padding: 3px 10px 0px 0px; font-size: 0.7em; } h3{ font-size: 1.35em; margin-bottom: 20px; } h4{ font-size: 1.2em; margin-bottom: 20px; font-style: italic; } h5{ font-size: 1.3em; margin-bottom: 20px; } h5 *{ color: #353535; } em{ font-style: italic; } strong{ font-weight: bold; } blockquote{ border-left: 3px solid #ddd; color: #888; margin: 0px 0px 20px 40px; font-style: italic; } blockquote p{ margin: 5px 20px !important; } ul{ padding-left: 40px; line-height: 25px; list-style: square; margin-bottom: 20px; } li{ display: list-item; } ol{ padding-left: 40px; line-height: 25px; margin-bottom: 20px; list-style-type: decimal; } /* TAGS */ .home-tag { font-size: 10px; display: inline-block; border: 1px solid #dedede; padding: 2px 2px 1px 2px; border-radius: 2px; line-height: 10px; margin-left: 1px; } .tag-date{ color: #aaa; } .tag-management { border-color: #929aff; color: #929aff; } .tag-programming { border-color: #ff9292; color: #ff9292; } .tag-coaching { border-color: #4ec698; color: #4ec698; } .tag-projectmanagement { border-color: #929aff; color: #929aff; } /* BLOG INDEX */ #all-posts{ margin: 0px auto 10px auto; width: 760px; } .single-post{ border-top: 1px solid #f1f1f1; padding: 40px 0px; float: clear; } .single-post:first-child{ border-top: none !important; } .single-post .date{ color: #cdcdcd; margin-top: 10px; float: right; } .single-post .author{ color: #cdcdcd; float: right; font-size: 0.7em; } .single-post .title{ font-family: 'Open Sans', sans-serif; font-size: 1.6em; margin-bottom: 20px; line-height: 1.6em; position: relative; } .single-post .title a{ color: #353535; text-decoration: none; } .single-post .title a::before{ content: "→"; opacity: 0; font-family: "anonymousregular"; font-size: 0.7em; position: absolute; left: -30px; transition: all .4s ease-in-out; } .single-post .title a:hover::before{ opacity: 1; transition: all .4s ease-in-out; color: #ed5252; } .single-post .title em{ display: none; } .data_table{ border: 1px solid #efefef; font-family: "anonymousregular"; font-size: 12px; margin: auto auto 20px auto; } .data_table tr{ border: 1px solid #efefef; } .data_table th{ background-color: #efefef; } .data_table th, .data_table td{ padding: 2px 5px; } .post table { margin: 0px auto 20px auto; border: 1px solid #dedede; } .post td { padding: 5px 10px; } /* BOOKS */ .book-cover-entry{ width: 120px; margin-right: 20px; float: left; font-size: 12px; text-decoration: none !important; } .buy-book{ text-decoration: underline; } .book-cover-entry img{ width: 120px; } .book-cover-entry { background-image: none; } .book-rating .icon { display: inline-block; padding-right: 5px; } .book-rating .top .icon{ color: #1CED00; } .book-rating .good .icon{ color: #82ED00; } .book-rating .medium .icon{ color: #EDD100; } .book-rating .low .icon{ color: #EDAE00; } .book-rating .poor .icon{ color: #ED3B00; } #buy-title{ padding: 0px 0px 25px 0px; } #buy-title span{ font-size: 0.8em !important; color: #cdcdcd; } #buy-popin{ padding: 30px 15px; } .store{ display: block; padding: 15px 5px; text-decoration: none; } .store:hover{ color: #ed5252; } #upcoming-books{ padding-top: 20px; } #upcoming-books img{ height: 90px; margin-right: 10px; border: 1px solid #fff; } #upcoming-books a{ text-decoration: none; } #upcoming-books img:hover{ border: 1px solid #ed5252; } /* BLOG SHOW */ .post{ } p code, li code{ background-color: #efefef; font-family: "Lucida Console", "Courier New", Courier, monospace; padding: 1px 2px; font-size: 13px; } .post img{ border: 1px solid #e6e6e6; padding: 5px; margin: 0px 0px 20px 20px; } .published span{ border-top: 1px solid #e6e6e6; display: inline-block; color: #858585; padding-top: 5px; font-family: 'Open Sans', sans-serif; font-size: 0.9em; padding: 5px 20px 0px 20px; } .published{ text-align: center; margin-bottom: 65px; } #more{ border-top: 1px solid #e6e6e6; margin-top: 40px; padding: 40px 0px; } #more-articles{ margin-bottom: 40px; } .image-wrapper em{ display: block; font-size: 0.8em; margin: -20px 0px 20px 0px; color: #aaa; } .image-wrapper em a{ color: #aaa; } .twitter-tweet{ margin: auto; max-width: 420px !important; } #book-review{ border: 1px dashed #dedede; padding: 20px; margin-bottom: 20px; opacity: 0.7; } #book-review a{ color: #763232; } /* Music */ .js_play_sound, .js_stop_sound{ display: inline-block; padding: 4px 10px 2px 10px; border: 1px solid #efefef; background-color: #efefef; margin-right: 10px; text-decoration: none; border-radius: 3px; font-family: 'anonymousregular'; font-size: 12px; } .js_play_sound:hover, .js_stop_sound:hover{ background-color: #dedede; } /* Comments */ #comments{ padding-top: 20px; } #show-disqus-arrow{ color: #ed5252; } /* CLEARFIX */ .cf:before, .cf:after { content: " "; /* 1 */ display: table; /* 2 */ } .cf:after { clear: both; } /************************ MOBILE LAYOUT *********************/ @media all and (max-width: 800px) { .home-tag { display: none; } .author{ float: none !important; display: inline; } header{ width: 92%; padding: 4%; height: 75px; position: relative; text-align: center; background-color: #fafafa; } #more-nav{ left: 0px; top: 50px; } #logo{ margin-top: 10px; } #content, #all-posts{ width: 92%; padding: 4%; } .image-wrapper{ width: 100%; } .image-wrapper img, .post div img, .post p img{ max-width: 100% !important; padding: 15px 0px !important; margin: 20px 0px 20px 0px !important; border-right: 0px; border-left: 0px; } .single-post .title{ font-size: 1.4em; } .date{ display: none; } h1{ font-size: 1.7em; width: 94%; padding: 3%; } h2{ font-size: 1.50em; margin: 30px 0px 30px 0px; line-height: 1.75em; } h3{ font-size: 1.30em; } blockquote{ margin: 0px 0px 20px 0px !important; } pre{ margin-left: 0px !important; margin-right: 0px !important; width: 90%; overflow-x: scroll; } code{ width: 100%; font-size: 13px !important; } footer div{ display: inline; } /* Hire me responsive */ #hire ul{ padding-left: 15px; } #talking-img{ width: 100%; } #talking-img img{ width: 100% !important; } #reviews{ border-top: 1px dashed #e6e6e6; padding: 15px 0px 15px 0px; } #references_logo{ padding: 0px 0px 15px 0px; } .review{ width: 100%; margin: 0px 0px 15px 0px; padding: 0px; border-bottom: 1px dashed #e6e6e6; } #references_logo img, #references_logo .minor{ width: 22%; float: left; margin: 15px 2% 15px 0px; } .data_table th, .data_table td{ font-size: 8px; padding: 0px; border: 1px solid #efefef; } } /* CONVERSATION */ #post-conversation blockquote{ color: rgb(84, 84, 84); font-style: normal; margin: 20px 40px; } #post-conversation blockquote p{ margin: 10px 20px !important; } #post-conversation blockquote .dpm{ color: #3B9E2E !important; font-family: 'Open Sans', sans-serif; font-size: 13px; } #post-conversation blockquote .ddev{ color: #AD34CF !important; font-family: 'Open Sans', sans-serif; font-size: 13px; } #post-conversation blockquote .dcto{ color: #9E2E2E !important; font-family: 'Open Sans', sans-serif; font-size: 13px; } </style> </head> <body> <div id="gradient"></div> <header> <div id="logo"> <a id='logo1' href="/">marcgg</a> <span id='logo2'>#</span> <a id='logo3' href="/blog/"> blog </a> </div> <div id="more-nav"> &rarr; <a href="/blog/" class="selected">blog</a> &rarr; <a href="/books/" class="">books</a> &rarr; <a href="/hire/" class="">hire me</a> </div> </header> <h1> <span> My First Impressions of AppGyver's Steroids.js </span> </h1> <div class="published"> <span>29 August 2013</span> </div> <div id="container"> <div id="content"> <div class="post" id="post-"> <p>*<strong>Update 9 April 2014</strong>: Since this post, I released a <a href="http://liffapp.io">quantified self app</a> using SteroidsJs and wrote another article with <a href="/blog/2014/04/09/phonegap-steroids-hybrid-native-app-tips/">tips &amp; tricks to know when building a Steroids.js app</a> (or any hybrid app really). 300ms delay, overscroll, text rendering, 1px borders, local storage, performances, i18n … it’s all there!*</p> <p>As I wrote before, I like the idea of developing mobile applications. I don’t plan to focus exclusively on it, but having an iPhone app as a pet project seems pretty cool and creating something for Android could be interesting as well in the future.</p> <p>The problem is that, like a lot of people, I don’t enjoy the experience of working with Objective C and XCode. I thought I found a solution with <a href="http://www.rubymotion.com/">RubyMotion</a>, I even <a href="/blog/2012/10/22/custom-slider-ios-rubymotion/">wrote about it</a>… but I was mistaken. While RubyMotion is a great project, it’s not for me.</p> <p>Yes you get to write Ruby code, but that’s pretty much it. You still have to learn about the SDK to even start to create something simple. This can be perfectly fine for some with more experience or wanting to get experience with the iOS SDK, but I just want to build something. Overall it felt like using Ruby just complexified development for me. I couldn’t use code snippets or the main iPhone resources available, and RubyMotion lacked documentation and tutorials. I got something done, but it wasn’t good enough and I never released anything.</p> <p>I tried again a couple of months later with an idea more simple: create a web view wrapper using RubyMotion and do everything inside a single page HTML 5 app. Sadly the lack of native UI made everything feel a bit off, so I scrapped that as well. I thought about using <a href="http://phonegap.com/">PhoneGap</a> but I figured that the app would end up with the same problem.</p> <p>Fast forward 6 months and I read that AppGyver released <a href="http://www.appgyver.com/steroids">Steroids.js</a>, an solution promising to “<a href="http://techcrunch.com/2013/08/20/steroids-js-bridges-the-performance-gap-between-phonegap-and-native-apps-by-using-native-ui-components-and-animations/">Bridge The Performance Gap Between PhoneGap And Native Apps By Using Native UI Components And Animations</a>”. I immediatly thought that it was what I wanted! The next day AppGyver announced that Steroids would be <a href="http://appgyver.blogspot.fr/2013/08/steroids-is-now-free-for-everyone.html">free for everyone</a>, so I decided to give it a try and write about it here.</p> <div style="text-align: center"><img src="/assets/blog/steroids.png" /></div> <p>Before reading more, please take this article as it is: feedback on this new solution to create mobile apps. I’m not trying to educate anyone on how to do things or evangelize. I only played with it for a few days and haven’t put anything in production using Steroids. I also know I’m making a lot of mistakes because, while I’m a decent web developer, I’m not really a great mobile developer.</p> <p>Alright.</p> <h2 id="installation">Installation</h2> <p>AppGiver provides a pretty good documentation. It’s far from complete, but what is there is well written and very clear. To set my development environment I followed their <a href="http://academy.appgyver.com/courses/2/lessons/32">tutorial</a>.</p> <p>Overall everything went smoothly aside from a couple of gotchas very easy to figure out.</p> <p>For instance Steroids uses an older version of node.js so I had to set up <a href="https://github.com/creationix/nvm">nvm</a> in order to get it to run. The thing is that nvm creates a .bash_profile, but since I use <a href="http://www.zsh.org/">zsh</a> it wouldn’t pick up the correct path automatically as promised. Moving the concerned code to .zshrc fixed that.</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[[</span> <span class="nt">-s</span> /Users/marcgg/.nvm/nvm.sh <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">.</span> /Users/marcgg/.nvm/nvm.sh <span class="c"># This loads NVM</span></code></pre></figure> <p>nvm requires that you specify the version you need in order for you to access the steroids command. It’s similar to what rvm does, but you still have to think about it.</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">nvm use 0.8.0</code></pre></figure> <h2 id="first-impression">First Impression</h2> <p>After completing the installation, I executed the script to scaffold a new application, downloaded the scanner app, started the application, scanned the QR code and … Wow! It’s really neat! The application ran on my iPhone just a few minutes after starting working.</p> <p>By the way, if you run the Steroids connect script with the watch option it will reload the app automatically on every device connected for maximum effect.</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">steroids connect <span class="nt">--watch</span></code></pre></figure> <h2 id="organizing-files">Organizing Files</h2> <p>Right away you don’t really get a full structured project. To do so you have to run some generators. The default approach is to give you free choice over what you want to do about file organisation. Personnally I would have prefered it was the other way around, giving me the structure but allowing me to remove it… or maybe an option in the scaffolding script.</p> <h2 id="building-the-ui">Building The UI</h2> <h3 id="drawer">Drawer</h3> <p>Steroids comes with a very cool “native” Drawer, meaning that it will display a webview on the side of your app with a native animation. The <a href="http://academy.appgyver.com/courses/4/lessons/44">tutorial</a> explaining that got me excited so I decided that my app would have a drawer!</p> <p>Getting it to work was almost as simple as going:</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">drawer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">steroids</span><span class="p">.</span><span class="nx">views</span><span class="p">.</span><span class="nx">WebView</span><span class="p">(</span><span class="dl">"</span><span class="s2">/views/drawer/show.html</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">openDrawer</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">steroids</span><span class="p">.</span><span class="nx">drawers</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">drawer</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure> <p>And then create a webview with a link to open it.</p> <figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">ontouchend=</span><span class="s">"openDrawer()"</span><span class="nt">&gt;</span>Open<span class="nt">&lt;/div&gt;</span></code></pre></figure> <p>Doing this will work, but you’d prefer to have a gesture to open and close the drawer. This is handled by Steroids as well, but this breaks gestures inside your webview. It’s also a bit more complicated to have the drawer on some screens and not others.</p> <p>After a few hours playing with it and talking with <a href="http://twitter.com/jeclic">a real iOS developer</a> (“you have a drawer for your app with 4 screens???”) I decided that it wasn’t really the UI I needed for this project.</p> <h3 id="natives-navs--tabs">Natives Navs &amp; Tabs</h3> <p>The next day I dropped everything and went for a more classical approach with tabs at the bottom and a nav bar up top. It turned out it was way simpler and actually pretty straightforward to do with Steroids.</p> <p>Adding the following in a controller gives you a nav bar:</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">steroids</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">navigationBar</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="dl">"</span><span class="s2">My Nav Bar</span><span class="dl">"</span><span class="p">)</span></code></pre></figure> <p>This added in the config gives you a tab menu:</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">steroids</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">statusBar</span><span class="p">.</span><span class="nx">enabled</span> <span class="o">=</span> <span class="kc">false</span>

<span class="nx">steroids</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">tabBar</span><span class="p">.</span><span class="nx">tabs</span> <span class="o">=</span> <span class="p">[</span>
 <span class="p">{</span>
   <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Fun</span><span class="dl">"</span>
   <span class="na">icon</span><span class="p">:</span> <span class="dl">"</span><span class="s2">icons/myicon@2x.png</span><span class="dl">"</span>
   <span class="na">location</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://localhost/views/fun/have_it.html</span><span class="dl">"</span>
 <span class="p">},</span>
 <span class="p">{</span>
   <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Excitement</span><span class="dl">"</span>
   <span class="na">icon</span><span class="p">:</span> <span class="dl">"</span><span class="s2">icons/myothericon@2x.png</span><span class="dl">"</span>
   <span class="na">location</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://localhost/views/excitement/amazing.html</span><span class="dl">"</span>
 <span class="p">}</span>
<span class="p">]</span></code></pre></figure> <p>You then get access to ways to customize colors for everything as explained <a href="http://academy.appgyver.com/courses/4/lessons/50">here</a>, and… tadaaaa:</p> <div style="text-align: center"><img src="/assets/blog/app_steroids.jpg" /></div> <p>The text displayed is contained in the have_it.html file placed in the project.</p> <p>It is really simple and, even if this was written with javascript, it looks native. The result feels really right and it didn’t take long to create.</p> <p>There are some limits to this. For instance, while you can add buttons in the nav bar, you can’t add icons yet. I’m sure they will improve on it, but for customization you don’t have as much options as going full native.</p> <h3 id="login-modal">Login Modal</h3> <p>The application I’m building requires that you login. At first I wanted to have two different webviews and shift between disconnected and connected mode, but it got complicated because of the tab menu… so in the end I just put a modal window that pops up when the user is not logged in. It’s not perfect but it gets the job done for now.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webView</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">steroids</span><span class="p">.</span><span class="nx">views</span><span class="p">.</span><span class="nx">WebView</span><span class="p">(</span><span class="dl">"</span><span class="s2">../views/login/show.html</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">steroids</span><span class="p">.</span><span class="nx">modal</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">webView</span><span class="p">);</span></code></pre></figure> <p>Hiding it is pretty simple as well:</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">steroids</span><span class="p">.</span><span class="nx">modal</span><span class="p">.</span><span class="nx">hide</span><span class="p">()</span></code></pre></figure> <h3 id="the-layer-stack">The Layer Stack</h3> <p>A cool feature provided by Steroids is the layer stack.</p> <p>This gives you a navigation between independent webviews within your application. You just display a single HTML page and can organize all your files into a tree structure in a pretty straightforward fashion. Steroids also handles adding and removing views so that it feels native.</p> <p>They explain it better than me in their tutorials, <a href="http://academy.appgyver.com/courses/15/lessons/10">Enhancing Your App with Native UI</a> and <a href="http://academy.appgyver.com/courses/4/lessons/12">Layer stack</a>.</p> <h2 id="some-random-features">Some Random Features</h2> <h3 id="session">Session</h3> <p>I needed to have some kind of session. I knew about local storage but wasn’t sure how to go about it, so I quickly hacked something based on cookies.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">.</span><span class="nx">User</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">setSession</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">createCookie</span><span class="p">(</span><span class="dl">"</span><span class="s2">my_session</span><span class="dl">"</span><span class="p">,</span> <span class="nx">val</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
  <span class="p">},</span>

  <span class="na">logout</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">eraseCookie</span><span class="p">(</span><span class="dl">"</span><span class="s2">my_session</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// And so on ...</span>
<span class="p">}</span></code></pre></figure> <p>It works well, but I don’t think this is the best way to go.</p> <h3 id="calling-external-api">Calling External API</h3> <p>My application will work with an API that I am also developing. Overall it’s just like developing a website: you get jQuery or whatever library you want and make calls and display the result on the page.</p> <p>It might seem obvious, but it is still good to mention that the API will need to accept <a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing">cross-origin resource sharing</a> for the calls to work.</p> <p>I use Rails, and the quick way to do that was to use the <a href="https://github.com/cyu/rack-cors">rack-cors gem</a> and set it up as such:</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">config</span><span class="p">.</span><span class="nf">middleware</span><span class="p">.</span><span class="nf">use</span> <span class="no">Rack</span><span class="o">::</span><span class="no">Cors</span> <span class="k">do</span>
  <span class="n">allow</span> <span class="k">do</span>
	<span class="n">origins</span> <span class="s1">'*'</span>
	<span class="n">resource</span> <span class="s1">'*'</span><span class="p">,</span> <span class="ss">headers: :any</span><span class="p">,</span> <span class="ss">methods: </span><span class="p">[</span><span class="ss">:get</span><span class="p">,</span> <span class="ss">:post</span><span class="p">,</span> <span class="ss">:options</span><span class="p">]</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure> <h2 id="workflow">Workflow</h2> <h3 id="the-scanner-app">The Scanner App</h3> <p>You can download an application on the <a href="https://itunes.apple.com/us/app/appgyver-scanner/id575076515?mt=8">appstore</a>, scan a QR code with it, and it will take you straight to your application. This is great to show previews to people and iterate quickly and saves time compared to solution like TestFlight that requires you to upload a build.</p> <p>Of course it has limitation as your app runs inside the scanner application, but in some cases it can be enought if it’s just about displaying the latest modifications, checking the design or proofreading the wording.</p> <h3 id="creating-a-build">Creating a Build</h3> <p>AppGyver provides a solution to build in the cloud. You need to spend some time setting it up, but once it’s done a new build can be scheduled in the click of a button.</p> <div style="text-align: center"><img src="/assets/blog/cloudbuild.jpg" /></div> <p>This works fine, but still needs some polishing, mainly on ways to get an ETA for the build. Right now I’ve seen build times varying between 12 hours and a couple of minutes. Apparently <a href="http://forums.appgyver.com/#!/steroids#how-long-does-a-adhoc-build">it should be better moving forward</a>, so I’ll wait and see.</p> <h2 id="the-documentation--community">The Documentation &amp; Community</h2> <p>The documentation provided by Appgyver is very clean, but could use some more tutorials and examples. This was to be expected since the project has only been released very recently.</p> <p>It’s worth mentioning that the team is very responsive on <a href="https://twitter.com/appgyver">twitter</a> or the <a href="http://developers.appgyver.com/forums">forums</a>. For instance I was confused about customizing colors, so I asked on the site. The next day they would have put up a new tutorial with concrete examples. Pretty sweet.</p> <p>The community is small right now, and looking online for documentation or blog posts will yield absolutely no results. Hopefully this will improve.</p> <h2 id="wrapping-it-up">Wrapping It Up</h2> <p>I think that this is a very interesting project so I will keep on working with Steroids to get as far as I can creating my app. You can see that the team put a lot of work into it and the product feels right.</p> <p>The next steps on my part is to stop playing around and actually start developing something more concrete. I’m also waiting for some features that are supposed to be in the roadmap, such as icons in nav bar or iOS 7 native UI.</p> <p>*<strong>2014 Update</strong>: Since this, I’ve released an application using Steroids.js, it’s a <a href="http://liffapp.io">quantified self application to track your day</a>. You can check it out <a href="https://itunes.apple.com/en/app/liff-understand-your-life/id834944345">on the appstore</a>!*</p> <p>If you have any remarks, I’ll be happy to hear them in the comments. For questions, I’m not sure to be able to answer all of them - but I’ll try!</p> <div id="more"> <div id="more-articles"> <p>Since you scrolled this far, you might be interested in some other things I wrote:</p> <ul> <li><a href="/blog/2022/11/30/i18n-localisation-xcode-google-sheet/">Simple Localisation Process for XCode with Google Sheets</a></li> <li><a href="/blog/2020/05/06/circular-progressbar-clock-swiftui/">Circular Progress Bar & Timer with SwiftUI</a></li> <li><a href="/blog/2014/04/09/phonegap-steroids-hybrid-native-app-tips/">Tips & Tricks Learned Releasing an Hybrid App Using&nbsp;Steroids.js</a></li> <li><a href="/blog/2012/11/12/webviews-javascript-ios-rubymotion/">Web Views &amp; RubyMotion</a></li> <li><a href="/blog/2012/10/22/custom-slider-ios-rubymotion/">Create a Custom Slider With RubyMotion</a></li> <li><a href="/books/">Startup & Tech Book Reviews</a> </ul> </div> <div class="container comments" id="comments"> Loading comments... </div> <div id="comment_form_wrapper" class="container"> <form id="comment_form"> <textarea name="content" required id="comment_content" placeholder="Leave a comment"/></textarea /> <div id="comment_additional" class="row" style="display: none;"> <div class="col-sm-4"> <input type="text" id="comment_name" required placeholder="Your name*" /> </div> <div class="col-sm-4"> <input type="text" id="comment_website" placeholder="Your site" /> </div> <div class="col-sm-4"> <input type="email" id="comment_email" required placeholder="Your email* (won't be displayed)" /> </div> </div> <br /> <input type="submit" id="submit_comment" value="Send"/> <div id="submit_loading" style="display: none;">...</div> </form> </div> </div> </div> </div> </div> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <script src="/assets/js/comments.js"></script> <link rel="preload" href="/assets/css/code.css" as="style" onload="this.rel='stylesheet'"> <link href="/assets/css/comments.css?body=1" rel="stylesheet" type="text/css" media="all"> <script> /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */ !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); /*! loadCSS rel=preload polyfill. [c]2017 Filament Group, Inc. MIT License */ !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); </script> <footer> <div>Website powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a>, hosted on <a href="https://github.com/marcgg/marcgg.github.com">Github</a> and put together by <a href="http://twitter.com/marcgg">@marcgg</a>.</div> <div>All of the <a href="/blog">blog's articles</a> are under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative commons</a> license unless stated otherwise. Everything else is &copy;.</div> </footer> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-31071519-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> </body> </html>

